<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>RegionalRubyKaigi レポート (11) 関西 Ruby 会議 02</title>
  <meta name="description" content="書いた人: Tagawa">

  <script src="/js/jquery.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="/css/theme.css" rel="stylesheet" type="text/css">
  <link href="/css/syntax.css" rel="stylesheet" type="text/css">

  <link rel="canonical" href="http://magazine.rubyist.net/articles/0029/0029-KansaiRubyKaigi02Report.html">
  <link rel="alternate" type="application/rss+xml" title="Rubyist Magazine" href="http://magazine.rubyist.net/feed.xml">
  <link rel="shortcut icon" href="/images/favicon.ico">
</head>

  <body>
    <div class="container-fluid">
        <div class="row full">
            <div class="col-md-2 hidden-xs sidebar">
                <h4>

</h4>

<h4>バックナンバー</h4>
<ul>
    
        <li><a href="/articles/0057/0057-index.html">0057号(2018-02)</a></li>
    
        <li><a href="/articles/prerubykaigi2017/preRubyKaigi2017-index.html">RubyKaigi 2017 直前特集号</a></li>
    
        <li><a href="/articles/0056/0056-index.html">0056号(2017-08)</a></li>
    
        <li><a href="/articles/0055/0055-index.html">0055号(2017-03)</a></li>
    
        <li><a href="/articles/0054/0054-index.html">0054号(2016-08)</a></li>
    
        <li><a href="/articles/pretokyorubykaigi11/preTokyoRubyKaigi11.html">東京 Ruby 会議 11 直前特集号</a></li>
    
        <li><a href="/articles/0053/0053-index.html">0053号(2016-04)</a></li>
    
        <li><a href="/articles/0052/0052-index.html">0052号(2015-12)</a></li>
    
        <li><a href="/articles/0051/0051-index.html">0051号(2015-09)</a></li>
    
        <li><a href="/articles/0050/0050-index.html">0050号(2015-05)</a></li>
    
        <li><a href="/articles/0049/0049-index.html">0049号(2014-12)</a></li>
    
        <li><a href="/articles/0048/0048-index.html">0048号(2014-09)</a></li>
    
        <li><a href="/articles/0047/0047-index.html">0047号(2014-06)</a></li>
    
        <li><a href="/articles/0046/0046-index.html">0046号(2014-04)</a></li>
    
        <li><a href="/articles/0045/0045-index.html">0045号(2013-12)</a></li>
    
        <li><a href="/articles/0044/0044-index.html">0044号(2013-09)</a></li>
    
        <li><a href="/articles/0043/0043-index.html">0043号(2013-07)</a></li>
    
        <li><a href="/articles/0042/0042-index.html">0042号(2013-05)</a></li>
    
        <li><a href="/articles/ruby200specialen/Ruby200SpecialEn.html">2.0.0 Special (EN)</a></li>
    
        <li><a href="/articles/0041/0041-index.html">0041号(2013-02)</a></li>
    
        <li><a href="/articles/0040/0040-index.html">0040号(2012-11)</a></li>
    
        <li><a href="/articles/0039/0039-index.html">0039号(2012-09)</a></li>
    
        <li><a href="/articles/rubykaja/kaja.html">RubyKaja のご紹介</a></li>
    
        <li><a href="/articles/0038/0038-index.html">0038号(2012-05)</a></li>
    
        <li><a href="/articles/0037/0037-index.html">0037号(2012-02)</a></li>
    
        <li><a href="/articles/0036/0036-index.html">0036号(2011-11)</a></li>
    
        <li><a href="/articles/0035/0035-index.html">0035号(2011-09)</a></li>
    
        <li><a href="/articles/prerubykaigi2011/preRubyKaigi2011.html">RubyKaigi2011直前特集号</a></li>
    
        <li><a href="/articles/0034/0034-index.html">0034号(2011-06)</a></li>
    
        <li><a href="/articles/0033/0033-index.html">0033号(2011-04)</a></li>
    
        <li><a href="/articles/0032/0032-index.html">0032号(2011-01)</a></li>
    
        <li><a href="/articles/0031/0031-index.html">0031号(2010-10)</a></li>
    
        <li><a href="/articles/prerubykaigi2010/preRubyKaigi2010.html">RubyKaigi2010直前特集号</a></li>
    
        <li><a href="/articles/0030/0030-index.html">0030号(2010-06)</a></li>
    
        <li><a href="/articles/0029/0029-index.html">0029号(2010-03)</a></li>
    
        <li><a href="/articles/0028/0028-index.html">0028号(2009-12)</a></li>
    
        <li><a href="/articles/0027/0027-index.html">0027号(2009-09)</a></li>
    
        <li><a href="/articles/0026/0026-index.html">0026号(2009-06)</a></li>
    
        <li><a href="/articles/0025/0025-index.html">0025号(2009-02)</a></li>
    
        <li><a href="/articles/0024/0024-index.html">0024号(2008-10)</a></li>
    
        <li><a href="/articles/0023/0023-index.html">0023号(2008-03)</a></li>
    
        <li><a href="/articles/0022/0022-index.html">0022号(2007-12)</a></li>
    
        <li><a href="/articles/0021/0021-index.html">0021号(2007-09)</a></li>
    
        <li><a href="/articles/0020/0020-index.html">0020号(2007-08)</a></li>
    
        <li><a href="/articles/0019/0019-index.html">0019号(2007-05)</a></li>
    
        <li><a href="/articles/0018/0018-index.html">0018号(2007-02)</a></li>
    
        <li><a href="/articles/0017/0017-index.html">0017号(2006-11)</a></li>
    
        <li><a href="/articles/0016/0016-index.html">0016号(2006-09)</a></li>
    
        <li><a href="/articles/0015/0015-index.html">0015号(2006-07)</a></li>
    
        <li><a href="/articles/rubykaigi2006/RubyKaigi2006-index.html">日本 Ruby カンファレンス 2006 特別号</a></li>
    
        <li><a href="/articles/0014/0014-index.html">0014号(2006-05)</a></li>
    
        <li><a href="/articles/0013/0013-index.html">0013号(2006-02)</a></li>
    
        <li><a href="/articles/0012/0012-index.html">0012号(2005-12)</a></li>
    
        <li><a href="/articles/0011/0011-index.html">0011号(2005-11)</a></li>
    
        <li><a href="/articles/0010/0010-index.html">0010号(2005-10)</a></li>
    
        <li><a href="/articles/0009/0009-index.html">0009号(2005-09)</a></li>
    
        <li><a href="/articles/0008/0008-index.html">0008号(2005-07)</a></li>
    
        <li><a href="/articles/0007/0007-index.html">0007号(2005-06)</a></li>
    
        <li><a href="/articles/0006/0006-index.html">0006号(2005-05)</a></li>
    
        <li><a href="/articles/0005/0005-index.html">0005号(2005-02)</a></li>
    
        <li><a href="/articles/0004/0004-index.html">0004号(2004-12)</a></li>
    
        <li><a href="/articles/0003/0003-index.html">0003号(2004-11)</a></li>
    
        <li><a href="/articles/0002/0002-index.html">0002号(2004-10)</a></li>
    
        <li><a href="/articles/0001/0001-index.html">0001号(2004-09)</a></li>
    
</ul>
<p class="rss-subscribe"><a href="/feed.xml">RSS</a></p>

            </div>
            <div class="col-md-10 main">
                <div class="row">
                    <div class="col-md-12">
                        <img src="/images/rubima_logo_l.png">
                        <h1>RegionalRubyKaigi レポート (11) 関西 Ruby 会議 02</h1>
                        <div class="social-buttons">
                            <a href="http://b.hatena.ne.jp/entry//articles/0029/0029-KansaiRubyKaigi02Report.html" class="hatena-bookmark-button" data-hatena-bookmark-title="RegionalRubyKaigi レポート (11) 関西 Ruby 会議 02" data-hatena-bookmark-layout="simple-balloon" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
<span id="fb-root"></span>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.5";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<span class="fb-like" data-href="/articles/0029/0029-KansaiRubyKaigi02Report.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false"></span>
<a href="https://twitter.com/share" class="twitter-share-button" data-url="/articles/0029/0029-KansaiRubyKaigi02Report.html" data-text="RegionalRubyKaigi レポート (11) 関西 Ruby 会議 02">ツイート</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

                        </div>
                        <p>書いた人: Tagawa</p>

<h2 id="はじめに">はじめに</h2>

<p>11/7、11/8 の 2 日間にわたって関西 Ruby  会議 02 が開催されました。</p>

<p>今回の開催形態は去年と同様に関西オープンソース 2009( 以下 KOF2009 と略記する)と共同開催としました。</p>

<ul>
  <li><a href="http://regional.rubykaigi.org/kansai02">関西 Ruby  会議 02</a></li>
  <li><a href="http://k-of.jp/2009/">関西オープンソース 2009</a></li>
</ul>

<p>発表者は関西圏に留まらず、東京都や島根県・果てははるばるカナダのバンクーバーから駆けつけていただきました。
おかげさまで、どの講演も会場はほぼ満員という大盛況になり、関西における Ruby  の関心の高さを伺わせる結果となりました。</p>

<h2 id="関西-ruby--会議-02-について">関西 Ruby  会議 02 について</h2>

<dl>
  <dt>開催日</dt>
  <dd>1 日目：2009 年 11 月 6 日 (金) 13:00 〜 18:00<br />2 日目：2009 年 11 月 7 日(土) 10:00 〜 18:00</dd>
  <dt>開催場所</dt>
  <dd>大阪南港 ATC ITM 棟 6F マーレギャラリー</dd>
  <dt>開催母体</dt>
  <dd>Ruby  関西</dd>
</dl>

<h2 id="116-金-の発表内容">11/6 (金) の発表内容</h2>

<h3 id="続現場で役立つ-ruby--on-rails-パターン">続・現場で役立つ Ruby  on Rails パターン</h3>

<h4 id="参加者数">参加者数</h4>

<ul>
  <li>約 50 名
    <ul>
      <li>最初は 40 人ぐらいでしたが、最終的にほぼ満席になりました。</li>
    </ul>
  </li>
</ul>

<h4 id="発表者">発表者</h4>

<ul>
  <li>大場寧子さん</li>
</ul>

<h4 id="発表内容">発表内容</h4>

<p>一番最初の発表は株式会社万葉の大場寧子さんにしていただきました。
お話しされた内容は大きく分けると以下の内容です。</p>

<ol>
  <li>株式会社万葉の紹介</li>
  <li>Ruby  での開発方法</li>
  <li>Ruby Kaigi2009 でのお話のおさらい</li>
  <li>本当は奥が深い検証の話</li>
  <li>RESTful との付き合い方</li>
</ol>

<h5 id="万葉の紹介">万葉の紹介</h5>

<ul>
  <li>家計簿ソフト「小槌」</li>
  <li>iPhone 用のカルタソフト「iCarta」</li>
  <li>Rails  用の Plugin</li>
  <li>グループウェア「ナレジオン」</li>
</ul>

<p>等の開発をされているそうです。</p>

<h5 id="ruby--での開発方法">Ruby  での開発方法</h5>

<p>基本は Agile っぽく動かしているのですが、開発人数が Rails  の開発にしては多い方なので、
開発体制を工夫されていると仰っていました。
その中で、特にメンバー間の「合意作りが大事」だと強調されていました。メンバーの合意を得られるためには、</p>

<ul>
  <li>誰もが決められるようにしておく</li>
  <li>勝手に既成事実化しない</li>
</ul>

<p>ということを守ることが必要とも仰っていました。</p>

<h5 id="ruby--会議-2009-でお話しされたことのおさらい">Ruby  会議 2009 でお話しされたことのおさらい</h5>

<ul>
  <li>如何に変更しやすくするか</li>
  <li>如何にコードを良い状態に保つか</li>
</ul>

<p>ということをかいつまんで説明されていました。</p>

<h5 id="本題に入る前に">本題に入る前に</h5>

<ol>
  <li>Ruby  をよく使っている人</li>
  <li>Rails  をよく使っている人</li>
</ol>

<p>についてどれぐらい居るのか質問されました。</p>

<ul>
  <li>Ruby  をよく使っている人は部屋の中の8割ぐらい</li>
  <li>Rails  をよく使っている人は部屋の中の3割ぐらい</li>
</ul>

<p>の人が使っていらっしゃるようでした。</p>

<h5 id="本当は奥が深い検証の話">本当は奥が深い検証の話</h5>

<p>Rails  の入力検証は良くできていると仰り、その利点を述べられた後、以下の問題点が存在すると仰いました。</p>

<ol>
  <li>乱用される</li>
  <li>検証ニーズが場合によって違う場合に困る</li>
</ol>

<p>乱用される問題に対しては</p>

<ul>
  <li>そもそもActiveRecordの検証とは何か</li>
</ul>

<p>という定義のお話から始められ、
「ActiveRecordオブジェクトがユーザーに許可された操作によって不正な状態で永続化されないようにするための仕組み」
と定義され、特に「ユーザーに許可された操作によって」の部分が重要だと強調されていました。
そのため、
「モデルの検証」＞「validate(ActiveRecordの検証)」
であり、全ての「モデルの検証」に「validate(ActiveRecordの検証)」を使うのは誤りだと仰っていました。
解決策としてはActiveRecordの検証に当てはまらない「モデルの検証」には</p>

<ul>
  <li>コールバックで例外を投げる</li>
  <li>コールバックで専用の例外を投げる</li>
</ul>

<p>のが有効だと仰っていました。</p>

<p>更に酷い例として</p>

<ul>
  <li>ActiveRecordの検証で「モデルの検証」だけでなく「コントローラのエラー処理」まで行っている</li>
</ul>

<p>ものを挙げられました。
これは検証とエラー処理を混同されている例で、守備範囲外のものにまで検証を使ってはいけないと仰っていました。</p>

<p>次に検証ニーズが場合によって違う場合に困る場合についてお話しされました。</p>

<ul>
  <li>モデルの検証は1パターンではないのにActiveRecordの検証の通り道は1パターン</li>
</ul>

<p>なので、オブジェクトの状態によって場合分けをしないといけない。しかし、場合分けは意外と面倒で痛い目を見ることが多いと仰っていました。</p>

<p>これに対しては
モデルの様々な使い方を意識しておくべきと仰っていました。</p>

<h5 id="restfulとの付き合い方">RESTfulとの付き合い方</h5>

<p>最初にRESTを使っているかどうか質問されたところ、会場内で使っている人は1/5〜1/6ぐらい人が使っていらっしゃるようでした。
まずはRESTについての簡単な説明をされました。</p>

<ul>
  <li>URLはリソース(名詞)</li>
  <li>HTTPメソッドは操作(動詞)</li>
  <li>シンプルで統一された、人間も読む事の出来るI/F</li>
</ul>

<p>Rails について行くにはRESTを使うのは不可避だと強調されていました。
RESTfulにすることの利点としては</p>

<ul>
  <li>インターフェースがきれいになる</li>
  <li>必要なインターフェースが予測可能になり、統一化できる</li>
  <li>インターフェースが保守しやすくなる</li>
</ul>

<p>という点を挙げられていました。
ここでRESTと上手くつきあう方法として</p>

<ol>
  <li>Rails 的なツボ</li>
  <li>RESTの基本</li>
  <li>URLから考える</li>
  <li>routes.rbの整理</li>
</ol>

<p>の4点を挙げられていました。
Rails 的なツボは</p>

<ul>
  <li>よくあるアクションのマッピングを楽にすること</li>
  <li>マッピングに名前をつけてURLの名前にする</li>
</ul>

<p>RESTの基本は
リクエスト=名詞(URL)+動詞(HTTPメソッド)としてGET・POST・PUT・DELETEの4つの動詞で適切な動詞・名詞を選ぶことにあるそうです。
URLから考えることは
URLを設計してその後でコントローラを設計し、うまくコントローラを分割することだそうです。
次にroutes.rbの問題について取り上げられました。routes.rbは散らかしやすいので、</p>

<ul>
  <li>with_optionsの活用</li>
  <li>コントローラ別に記述する</li>
  <li>sub_resourcesプラグインを使う</li>
</ul>

<p>の3つの解決方法を提示されていました。
このなかで大場さんがお書きになったsub_resourcesプラグインについての説明をされました。</p>

<h4 id="発表資料">発表資料</h4>

<p>発表資料は以下のURLをご参照ください。
<a href="http://ko.meadowy.net/~nay/diary/20091109.html#p01">ぷっちん日記</a></p>

<h4 id="感想">感想</h4>

<p>Rails の深い話と断っていらっしゃった通り、かなりRails の内部に突っ込んだお話をされていました。Rails で開発を行うときにぶつかった問題とその解決方法をお話しいただけて、大変貴重な講演だったと思います。残念ながら盛りだくさんの内容なので、50分では時間が足りないと思われました。また一度じっくりとお話をお聞きしたい内容でした。</p>

<h3 id="ruby-でソフトウェアづくりをアジャイルにするということについて">Ruby でソフトウェアづくりをアジャイルにするということについて</h3>

<h4 id="参加者数-1">参加者数</h4>

<ul>
  <li>約50名
    <ul>
      <li>いきなり最初から満席となりました。角谷さんの講演の人気の高さが伺えました。</li>
    </ul>
  </li>
</ul>

<h4 id="発表者-1">発表者</h4>

<ul>
  <li>角谷信太郎さん</li>
</ul>

<h4 id="発表内容-1">発表内容</h4>

<p>発表の日が金曜日ということもあって、一般向けでお話をされていました。さらりと自己紹介をされた後、今日伝えたいことして</p>

<ul>
  <li>プログラムを書いたことのないシステムエンジニアが威張っている会社は早晩滅びる</li>
</ul>

<p>の言葉を「ビューティフル・コード」の推薦の言葉から引用されました。</p>

<p>まず、ソフトウェアづくりとはなにかについて説明されました。
ソフトウェアづくりとは</p>

<ol>
  <li>実行主体</li>
  <li>プロセス</li>
  <li>アクティビティ</li>
</ol>

<p>の３つで成り立ち、「日々やっていく行為の連続である」と強調されていました。</p>

<p>ここで、話は建築家Christopher Alexanderの「The Nature of Order」のという本から
「美しいものはある種の構造と形を持っていて、それを形作るにはプロセスがある」という文章を引用されて、プロセスの定義として</p>

<ul>
  <li>少しずつ進んでいく</li>
  <li>結果からフィードバックを受ける</li>
  <li>最初から決まっているわけではない</li>
  <li>全体というものを意識しないといけない</li>
</ul>

<p>これがアジャイル開発と非常によく似ていると仰いました。</p>

<p>ここからソフトウェアの本質について、</p>

<ul>
  <li>価値…人とソフトウェアの間にある</li>
  <li>システム全体を構成する（ハード　ソフト　文書　運用）</li>
  <li>変更に対応できることが前提（育てること　技術的負債）</li>
</ul>

<p>プログラミングについて</p>

<ul>
  <li>スキルを備えた人の活動</li>
  <li>世界観を構築している</li>
  <li>簡単なお仕事ではない</li>
</ul>

<p>と話されていました。</p>

<p>更にプログラミングが世界観を構築しているとは</p>

<ul>
  <li>コードにしたもの</li>
  <li>コードにしなかったもの</li>
</ul>

<p>の2つを含むと仰い、したことはコードになっていても、しなかったことはコードを読んでも分からないことから、ドキュメント等を書くことの必要性を説かれました。</p>

<p>自然に作られたソフトウェア開発としてのオープンソース開発を挙げられ、</p>

<ul>
  <li>オープンソースはバザールスタイルの開発であり、
    <ul>
      <li>少しずつ進んでいく</li>
      <li>結果からフィードバックを受ける</li>
      <li>最初から決まっているわけではない</li>
    </ul>
  </li>
</ul>

<p>と関連があることを話されました。更に</p>

<ul>
  <li>全体というものを意識しないといけない
    <ul>
      <li>全体を見渡すというよりも全体に貢献できるかどうか。</li>
    </ul>
  </li>
</ul>

<p>ということになるのではと話されました。</p>

<p>ここでアジャイル開発について言及されて、アジャイルとは「形容詞」である。アジャイル開発というモノは無い。日々のプロセスをどうアジャイルに近づけるかが重要であると述べられました。</p>

<p>では如何にしてアジャイル開発を実践するかの話に移られ、
「アート・オブ・アジャイル・デベロップメント」にある37のプラクティスを全部やればバグはなくなると話されました。しかし全て実践するのは無理なので、「Head First ソフトウェア開発」を参考にすると良いと仰いました。ここで</p>

<ul>
  <li>自分のチームと自分のプロジェクトにあうプロセスを選び、そのプロセスの</li>
</ul>

<p>成果物が自分の顧客の要望に合うように調整すること。
が重要であると強調されました。
「自分のプロジェクトにあうプロセスを選び」の部分で良いプログラミング言語を選ばなければならないと仰い、Ruby が勧められました。その理由として
「Ruby のコミュニティーではきれいなコード・上手く設計されたオブジェクト指向設計・テストしやすさなどの良いプログラムの書く方法が「正統」になっている」
と仰いました。</p>

<p>「入門Git」の中から</p>

<ul>
  <li>「仕事のために」道具がある
    <ul>
      <li>Linusがやりたいことのをするために作られた</li>
    </ul>
  </li>
  <li>見えていないものの方が大きいし、重要
    <ul>
      <li>人間はパターンを認識する動物であることが利点でもあり、罠でもある。表面のモノに惑わされがち。</li>
    </ul>
  </li>
</ul>

<p>と話されました。</p>

<p>最後にプログラマは重要な地位なので、</p>

<ul>
  <li>プログラマは本来見積りや計画もしなければいけない。</li>
  <li>持っている力を発揮出来るようにしなければならない。</li>
</ul>

<p>そこで</p>

<ul>
  <li>プログラムを書いたことのないシステムエンジニアが威張っている会社は早晩滅びる</li>
</ul>

<p>の言葉を「ビューティフル・コード」の再度引用され、プログラマの考えるべきことはいまやコードだけにとどまらないと話を締めくくられました。</p>

<h4 id="感想-1">感想</h4>

<p>「プログラムを書いたことのないシステムエンジニアが威張っている会社は早晩滅びる」との言葉は最近あちこちで聞かれるようになりましたが、角谷さんのお話はそれに留まらず、だからこそプログラマはコードにならないものにも気を配らないといけないと強調されていると思いました。これは中々語られることのない貴重な発言だと思いました。
また、プログラム開発には「コードにしたもの」と「コードにしないとした判断」の2つを含むとの言葉には感銘を受けました。
オープンソース開発の「その辺に生えてくるのと同じ。野生ですよ」「ついかっとなって作ってしまった」の部分は場内大爆笑になりました。</p>

<h4 id="発表資料-1">発表資料</h4>

<p>発表資料は以下のURLをご参照ください。
<a href="http://kakutani.com/20091106.html">角谷HTML化計画</a></p>

<h2 id="117-土">11/7 (土)</h2>

<h3 id="hacking-parsey">Hacking parse.y</h3>

<h4 id="参加者数-2">参加者数</h4>

<h4 id="発表者-2">発表者</h4>

<ul>
  <li>ujihisa さん</li>
</ul>

<h4 id="発表内容-2">発表内容</h4>

<p>はるばるカナダのバンクーバーから駆けつけていただきました。</p>

<ul>
  <li>内容</li>
</ul>

<p>Ruby のソースコードで最大の行数を誇るparse.yをHackしよう！というものでした。</p>

<ul>
  <li>目的</li>
</ul>

<p>parse.yを書き換えて新しいシンタックスを追加し、それの動作確認によってparse.yひいてはRuby の内部を理解するというものでした。
ujihisaさんのお話によると「初めてRuby の中を触るという人向けの話」だそうです。</p>

<ul>
  <li>パーサの説明</li>
</ul>

<p>まずはRuby のパーサについて説明をされました。
Ruby には1.8系列と1.9系列がありますが、パーサはparse.yで1.8・1.9共通であり、評価器(Evaluator)は1.8系列はeval.c・1.9系列はYARVになりました。ここでRuby の「秘伝のタレのようなもの」としてparse.yとeval.cがあることを話されました。
そして、読み込んだソースファイルの構文解析をするため、parse.yは2つの部分に分けられ、</p>

<ul>
  <li>字句解析(Lexer)
    <ul>
      <li>ソースプログラムを字句の並び(トークン)に分割する処理</li>
    </ul>
  </li>
  <li>構文解析 (狭義のParser)
    <ul>
      <li>トークンの並びから、解析木を構築する処理</li>
    </ul>
  </li>
</ul>

<p>があることを解説されました。</p>

<h5 id="実装の実演">実装の実演</h5>

<ol>
  <li>ハッシュのリテラルを =&gt; から :) に変更する</li>
</ol>

<p>実装の実演の第一弾はハッシュのリテラルを =&gt; から :) に変更するものでした。
まずはRuby の5種類ぐらいの : の使い方を説明されました。
次に、parse.yの</p>

<ul>
  <li>字句解析をしている部分で来た文字によって場合を分ける</li>
  <li>文字の先の状態に応じて遷移先を変える</li>
</ul>

<p>について説明をされました。</p>

<p>Ruby 1.9.2をビルドして動作確認されました。無事に動いて参加者の皆さんから「おー」という声が上がりました。</p>

<ol>
  <li>Lisp Like Symbolを実装する</li>
</ol>

<p>次はRuby のシンボル : をLisp Likeなシンボル ‘ に変更してみようといったものでした。</p>

<ul>
  <li>’ が来たときにある条件ならば状態をシンボルの開始とし、</li>
  <li>対応する ‘ が来たら文字列、なければシンボルとする</li>
</ul>

<p>という方針で、QuickHackな実装をされていました。
これもRuby 1.9.2をビルドして動作確認をして。無事動くことを確認されました。
「超便利」と仰っていて場内大受けでした。</p>

<ol>
  <li>++iを実装する</li>
</ol>

<p>まず、++iはi.succの略記であるとの考えから、トークンに構文を追加されました。
但し、i++のような後置演算子は実装が難しいらしいです。</p>

<ol>
  <li>def A#bのようなものを書けるようにしたい。</li>
</ol>

<p>Ruby の説明で、クラスAのインスタンスメソッドbをA#bと書いたりしますが、本当にそのようにインスタンスメソッドを書けるようにすることを目指しました。</p>

<h5 id="参考図書について">参考図書について</h5>

<p>参考図書はやはり「Ruby ソースコード完全解説」でした。</p>

<h4 id="感想-2">感想</h4>

<p>一般的というより逸般的というべき内容で、いかにもujihisaさんらしい楽しい発表でした。
プログラミング言語の内部を探るために、ソースコードを読むというのは大変だと思いますが、中身を理解するにはこれが一番であることを納得させられた発表でした。
パーサをいじるとお得！アメリカでもすごい人と思われるとの発言は説得力のあるお話でした。</p>

<h4 id="発表資料-2">発表資料</h4>

<p>第38回Ruby 関西勉強会の発表資料ですが、内容はほぼ同じです。以下のURLをご参照ください。
<a href="http://www.slideshare.net/ujihisa/hacking-parsey-rubykansai38">第38回Ruby 関西勉強会の資料</a></p>

<h3 id="lightning-talks">Lightning Talks</h3>

<h4 id="参加者数-3">参加者数</h4>

<ul>
  <li>発表者の豪華さがお客を呼び込んだのでしょうか？部屋の中は始まる前からいっぱいでした。最終的には立ち見が出るぐらいでした。</li>
</ul>

<h4 id="ruby-で始めるgtd">Ruby で始めるGTD</h4>

<h5 id="発表者-3">発表者</h5>

<ul>
  <li>Sixeight さん</li>
</ul>

<h5 id="発表内容-3">発表内容</h5>

<p>まずはSixeightさんの「Ruby で始めるGTD」から始まりました。
GTDとはDavid Allenのベストセラーである「Getting Things Done」の頭文字を取ったものだそうです。「ストレスフリーの整理術」という邦題で訳本も出版されています。</p>

<p>まずはこのGTDですが、</p>

<ol>
  <li>To doリストの収集</li>
  <li>To doリストの整理</li>
  <li>To doリストの実行</li>
</ol>

<p>という手順をくるくる回す手法だそうで、これは なにかに似ていると考えたところ「テスト駆動開発」似ていると気づかれたそうです。
すなわち、</p>

<ul>
  <li>収集→テストを書く</li>
  <li>整理→コードを書く</li>
  <li>実行→テストコードを実行</li>
</ul>

<p>だそうです。</p>

<p>この仕事術を実行するためにMac OS Xで動くPIMツールであるChandlerを使っていらっしゃったそうですが、新しいMac OS XであるSnow Leopardが出たときに動かなくなったそうです。</p>

<p>そこで替わりのPIMツールとしてSnow Leopardで動くThingsを使い始めたそうです。なかなか使いやすいツールだったそうですが、Mac OS XとLinux間のファイルの同期が上手いかないのが不満だったそうです。</p>

<p>そこで同期を取るためのツールとしてRuby を用いたEverythingというライブラリを作成されたそうです。
但しいくつかの不具合が残っているのと、まだデータの参照しか出来ないそうです。</p>

<h5 id="発表資料-3">発表資料</h5>

<p><a href="http://www.slideshare.net/Sixeight/rubygtd">Ruby で始めるGTD</a></p>

<h4 id="visualizing-and-processing">visualizing and processing</h4>

<h5 id="発表者-4">発表者</h5>

<ul>
  <li>kyara さん</li>
</ul>

<h5 id="発表内容-4">発表内容</h5>

<p>ruby-processingの使い方について説明をされました。</p>

<ul>
  <li>processingとは</li>
</ul>

<p>視覚的なプログラミングの基本の学習用のプログラミング言語だそうです。他の言語からも結構簡単に呼び出せるようになっているようです。</p>

<ul>
  <li>ruby-processingとは</li>
</ul>

<p>オリジナルのRuby からprocessingを操作するためのライブラリだそうです。
これを用いて簡単にGUIのプログラムを書けることをライブコーディングで行っていただきました。
今回は</p>

<ul>
  <li>日本地図を読み込んで3dで表示</li>
  <li>県庁所在地を表示して線で結ぶ</li>
</ul>

<p>といった画像処理が簡単にできることの紹介をされていました。</p>

<h4 id="lang-8におけるruby-活用の一端">Lang-8におけるRuby 活用の一端</h4>

<h5 id="発表者-5">発表者</h5>

<ul>
  <li>松本一輝さん</li>
</ul>

<h5 id="発表内容-5">発表内容</h5>

<p>松本さんご自身が開発されている語学学習用SNS　Lang-8(ランゲート)での高速化についてお話されました。</p>

<p>まず今までのLang-8の問題点として、アクセス速度が遅いという問題があったそうです。
これは従来のキャッシングの手法が使えないのが原因だそうです。
これに対処するためにKey-Value Store(KVS)を用いてメモリ上にデータを持つことにされたそうです。
このためにKVS実現のためのインターフェースライブラリSimpleResourceをRuby で実装され、これを用いてLang-8の高速化を図られたそうです。</p>

<p>ここで全てのデータは1300万ものレコードを一つのテーブルに保存し、オンメモリで読み込むようにして高速化を実現されたそうです。</p>

<ul>
  <li>Lang-8のデータベース使用容量
    <ul>
      <li>以前の4.0GBからMySQLの圧縮機能を使って2.1GBまで圧縮</li>
    </ul>
  </li>
  <li>CPU負荷
    <ul>
      <li>1/4に低減された</li>
    </ul>
  </li>
</ul>

<p>そうです。</p>

<p>Webアプリケーションでの最先端の技術の威力を教えていただいた気がしました。</p>

<h5 id="発表資料-4">発表資料</h5>

<p><a href="http://d.hatena.ne.jp/kazuk_i/20091109/1257776856">Lang-8でSimpleResourceを全面的に採用した件</a></p>

<h4 id="web30">Web3.0</h4>

<h5 id="発表者-6">発表者</h5>

<ul>
  <li>ストヤン ジェコフさん</li>
</ul>

<h5 id="発表内容-6">発表内容</h5>

<ul>
  <li>今まで
    <ul>
      <li>RSSをブログなどで発行して、これをRSSリーダが巡回して変更があれば知らせるという形で情報を知らせていた</li>
    </ul>
  </li>
  <li>現在
    <ul>
      <li>Twitterが出てきたので、このような手法が使えなくなった</li>
    </ul>
  </li>
</ul>

<p>と前置きされ、その対処方法についてお話しされました。</p>

<p>ここで、RSSをRSSリーダが巡回して変更を知る。すなわちpollingの手法が問題であり、これに対処するためのRSSをサーバにpushする手法が必要であると話されました。</p>

<ul>
  <li>HTTPを用いたpushの方法</li>
</ul>

<p>HTTPを使ってpushは可能かという問いにはWebHooksを使えば良いと言うことでした。
WebHooksを使うとHTTPを使うので、今まで蓄積したシステムを有効活用できるので、簡単にシステムを構築できるそうです。</p>

<ul>
  <li>問題点
    <ul>
      <li>標準化されていないので、パラメーターに来るデータはいろいろな種類のもの(XML・JSON etc)があること</li>
      <li>セキュリティーが難しい</li>
    </ul>
  </li>
</ul>

<p>の2つだそうです。</p>

<ul>
  <li>おすすめなもの
    <ul>
      <li>Watercoolr</li>
      <li>PubSubHubbub</li>
    </ul>
  </li>
  <li>WebHooks以外の方法は無いのか</li>
</ul>

<p>XMPPを使えば良いそうです。今ではGoogle Waveでも使われているそうです。</p>

<p>これを使ったRuby のライブラリ(collecta-xmpp)をストヤンさんが既に書かれているそうです。</p>

<h4 id="日本ruby-の会第6期の活動について">日本Ruby の会第6期の活動について</h4>

<h5 id="発表者-7">発表者</h5>

<ul>
  <li>角谷信太郎さん</li>
</ul>

<h5 id="発表内容-7">発表内容</h5>

<ul>
  <li>日本Ruby の会について
    <ul>
      <li>Ruby の開発者・使用者の支援を目的とする任意団体</li>
    </ul>
  </li>
  <li>日本Ruby の会の活動
    <ul>
      <li>Ruby リファレンスマニュアルの作成</li>
      <li>るりまの発行</li>
      <li>Ruby Kagiの主催</li>
      <li>地域Ruby Kagiの開催支援</li>
    </ul>
  </li>
</ul>

<p>「Ruby リファレンスマニュアル」と「るりま」については皆さん読んでどんどんフォローしてくださいと呼びかけていらっしゃいました。</p>

<ul>
  <li>特報</li>
</ul>

<p>Ruby Kaigi2010が来年の8月27・28・29の3日間に亘って開催されることが報告されました。
開催場所はRuby Kaigi2008と同じつくばの会場で開催されるそうです。</p>

<p>Ruby Kaigi2010のWebサイトをLT中に作成されました。</p>

<p>いきなり会長から会場ちゃんと押さえているのかと質問が飛んで、「ここで決めているのかよ！」かけ声が飛んだりして、場内爆笑でした。</p>

<ul>
  <li>日本Ruby の会の構成</li>
</ul>

<p>かずひこさんが理事を抜けられて、札幌の島田さんが新たに理事として任命されたことが発表されました。</p>

<ul>
  <li>日本Ruby の会からのお願い
    <ul>
      <li>とにかく人不足</li>
    </ul>
  </li>
</ul>

<p>いつも手を動かしている人たち以外の人もどんどん参加して協力して欲しい(特にるりま)とお願いされていました。</p>

<h4 id="それmiyakoでry">それMiyakoで(ry</h4>

<h5 id="発表者-8">発表者</h5>

<ul>
  <li>サイロス誠さん</li>
</ul>

<h5 id="発表内容-8">発表内容</h5>

<p>10/9に発表されたゲームライブラリMiyakoのver2.1についての説明をされました。</p>

<ul>
  <li>新機能のポイント
    <ul>
      <li>多様なスプライトの描画方法</li>
      <li>スプライトのみの配列を作れるようになった</li>
      <li>自動化の拡充</li>
    </ul>
  </li>
  <li>インストール方法
    <ul>
      <li>超簡単。gem2行だけ。</li>
    </ul>
  </li>
  <li>特報
    <ul>
      <li>今年中にMiyakoの本が出る予定。原稿は既にできあがっているそうです。</li>
    </ul>
  </li>
</ul>

<p>スプライト関係がかなり充実してきたという印象を受けました。
床に座り込んでWiiリモコンでプレゼンソフトを操作するというユニークなスタイルのプレゼンでした。
出版されるMiyakoの本の内容が楽しみになるプレゼンでした。</p>

<h4 id="以下は飛び込みの発表">以下は飛び込みの発表</h4>

<h4 id="ruby-で楽しく開発">Ruby で楽しく開発</h4>

<h5 id="発表者-9">発表者</h5>

<ul>
  <li>jugyoさん
    <ul>
      <li>termtterを開発した人</li>
    </ul>
  </li>
</ul>

<h5 id="発表内容-9">発表内容</h5>

<p>Ruby で楽しく開発するための便利なツールを2つ紹介されました。</p>

<ul>
  <li>ifchanged
    <ul>
      <li>ファイルの変更を監視して何かをするツール</li>
      <li>例…ソースが変更したらテストを実行する</li>
      <li>監視するファイルはワイルドカードも指定できる</li>
    </ul>
  </li>
  <li>g
    <ul>
      <li>pみたいなもの。オブジェクトの情報をgrowlに出力してくれる</li>
    </ul>
  </li>
</ul>

<p>いきなりの発表で中々面白かったです。ifchanged・g共に使ってみたいなと思えるツールでした。</p>

<h4 id="why-ruby">why Ruby</h4>

<h5 id="発表者-10">発表者</h5>

<ul>
  <li>yharaさん</li>
</ul>

<h5 id="発表内容-10">発表内容</h5>

<ul>
  <li>
    <p>いきなり2つ</p>
  </li>
  <li>why Ruby</li>
  <li>ホワイ・ザ・ラッキースティフ(why the lucky stiff)が8月に謎の失踪</li>
  <li>
    <p>コードはwhy mirrorという名前でgithubにミラーが有るので大丈夫</p>
  </li>
  <li>Ruby Staionの話</li>
  <li>ブラウザをデスクトップアプリのGUIにする</li>
  <li>詳しくはRuby Staionで検索してください</li>
</ul>

<p>とのことでした。</p>

<p>いきなり会場でお願いしたにもかかわらず、快く引き受けて面白いLTをしていただきました。</p>

<h3 id="初級者向けレッスンその1その2">初級者向けレッスン(その1)・(その2)</h3>

<h4 id="参加者数-4">参加者数</h4>

<ul>
  <li>定員16名なのですが、2回とも定員以上の数の方が参加されて、一部パソコンを使用できなかった人が出てきてしましました。</li>
</ul>

<h4 id="講師">講師</h4>

<ul>
  <li>okkezさん</li>
</ul>

<h4 id="発表内容-11">発表内容</h4>

<p>とにかく参加者にRuby を実際に触ってもらおうということで、PCが使える教室で、Linuxが起動するCD-ROMを使って、実際にRuby のコードを書いてもらいました。
レッスンの趣旨は、スタックをつくろう！というお題で、スタッククラスを作りながら、テスト駆動開発のさわりを理解してもらうことになりました。
普段の勉強会では90分ですが、今回は50分と短いこともあり、okkezさんが前でスタックの簡単な説明を行った後、プロジェクタに映し出されたコードを実際にPCで動かして、動作確認をしていただくという形式を取りました。
初級者向けレッスンにはTAと呼ばれるスタッフがいます。TAは参加者を回って質問に答えるという形で、細かいことを教えることになっています。スタッフが参加者の周りを回って、手が止まっていそうな人に声をかけて教えていくという形をとりました。</p>

<h4 id="感想-3">感想</h4>

<p>テスト駆動開発の趣旨は中々理解されにくいものですが、今回はプログラミングのお題はスタックという非常に簡単なものに絞り、とにかくテスト駆動開発とはどういうものかを理解していただくというokkezさんのアイデアが実り、かなりの参加者にテスト駆動開発の良さについて認識が深まったと思います。
PCルームの定員と時間が少なかったのですが、参加者の人にとって有意義な講義になったと思いました。</p>

<h3 id="ruby-によるmac-os-xデスクトップアプリケーション開発入門-snow-leopard対応版">Ruby によるMac OS Xデスクトップアプリケーション開発入門 Snow Leopard対応版</h3>

<h4 id="参加者数-5">参加者数</h4>

<p>始まる前から部屋の定員を超えて、すごい人気でした。</p>

<h4 id="発表者-11">発表者</h4>

<ul>
  <li>高尾宏治さん</li>
</ul>

<h4 id="発表内容-12">発表内容</h4>

<h5 id="ruby-とmac-os-xとの関連">Ruby とMac OS Xとの関連</h5>

<p>まずRuby とMac OS Xとの関連を時間軸に沿って説明されました。
特に2007年にRails がRuby のライブラリの一つとして標準搭載されたことについて非常に大きなチャレンジだと仰っていました。
あと感想として海外のRuby istは最近Macユーザー率が非常に高いのではないかと述べられていました。</p>

<h5 id="ruby-でのmac-os-xでのデスクトップアプリケーション開発について">Ruby でのMac OS Xでのデスクトップアプリケーション開発について</h5>

<p>高尾さんは元々Linuxで開発を行っていらっしゃったので、殆どのMacの操作がGUIで行うのが印象深かったそうです。
公式開発言語はObjetcit-Cですが、Ruby が理解できていればObjective-Cの理解は難しくないそうです。
Ruby でのMac OS Xでのデスクトップアプリケーション開発では</p>

<ul>
  <li>Ruby Cocoa</li>
  <li>MacRuby</li>
</ul>

<p>の2つ方法があり、これから開発をしたい人にはMacRuby がお勧めだそうです。</p>

<ul>
  <li>Ruby Cocoa
    <ul>
      <li>Ruby とObjective-Cの橋渡しを行うライブラリ</li>
    </ul>
  </li>
  <li>MacRuby
    <ul>
      <li>Macに特化したRuby の処理系</li>
      <li>CRuby 1.9ベース</li>
      <li>LLVMで再実装されたVM　Ruby スクリプトをコンパイル可能</li>
    </ul>
  </li>
</ul>

<h5 id="macruby-の説明">MacRuby の説明</h5>

<p>今回はMacRuby について語っていただきました。
例として、簡単な文字列表示のダイアログボックスを作成するデモをされました。
attr_accessorにGUI部品と接続するためのインタンス変数を定義する。
(デモではtextField)
GUI部品を押したときの処理は、メソッド定義でsenderを引数にして
textFieldに文字列を代入する。
これだけで簡単に文字列を表示するダイアログボックスが作成されました。簡単な例ですが、いくつかの約束を守るだけで簡単にGUIのプログラムが作成されたのが印象的でした。</p>

<h5 id="mac-os-x-106のgcdgrand-central-dispatchの説明">Mac OS X 10.6のGCD(Grand Central Dispatch)の説明</h5>

<p>Mac OS X 10.6(Snow Leopard)の新機能であるGCD(Grand Central Dispatch)の説明をされました。
GCDとはMac OS Xで並列処理を行うためのライブラリで、現在FreeBSDにも移植が開始されているようです。</p>

<p>説明としては並列したい処理の部分に
Dispatch::Queue.concurrentで定義されているapplyメソッドで包めば、その部分がディスパッチキューに登録されて並列処理されるようです。
並列処理ロックの部分もきわめて簡単で、1・2行付け加えるだけで、並列処理ができるのは驚きでした。</p>

<h4 id="感想-4">感想</h4>

<p>Mac OS Xでのデスクトップアプリケーション作成や並列処理といった部分は中々資料がなかったので、非常に興味深い発表になっていました。
2つの話題に共通したことですが、とにかく簡潔にMacのプログラムが書けるということで、これだけでも一度使ってみたいと思う内容でした。</p>

<h4 id="発表資料-5">発表資料</h4>

<p>発表資料は以下のURLをご参照ください。
<a href="http://d.hatena.ne.jp/kouji0625/20091108">高尾宏治日記 on はてな</a></p>

<h3 id="gc-黄金時代">GC 黄金時代</h3>

<h4 id="参加者数-6">参加者数</h4>

<p>最初は 30 人ぐらいでしたが、最終的にはほぼ満員になりました。</p>

<h4 id="発表者-12">発表者</h4>

<ul>
  <li>nari さん</li>
</ul>

<h4 id="発表内容-13">発表内容</h4>

<p>最初に簡単に自己紹介をされたあと、出席者に以下の質問をされました。</p>

<dl>
  <dt>GC って何って人は挙手してください</dt>
  <dd>1 人</dd>
  <dt>GC が好きな人は挙手してください</dt>
  <dd>5 人</dd>
  <dt>GC のコード書いた or 読んだ人は挙手してください</dt>
  <dd>4 人</dd>
</dl>

<h5 id="gc-の説明">GC の説明</h5>

<p>「メモリ中を観察して勝手にゴミを集めて捨てにいくもの」と説明され、
「地味だけど気になる存在」と話されていました。</p>

<h5 id="現在の-gc-の実装の種類">現在の GC の実装の種類</h5>

<p>実装方法としては 3 つに分類されるようです。</p>

<ul>
  <li>参照カウント</li>
  <li>トレーシング GC
    <ul>
      <li>マークスイープ GC</li>
      <li>コピー GC</li>
    </ul>
  </li>
</ul>

<p>これらのメリットデメリットについて説明されました。
実装として多いのは参照カウント＋マークスイープ GC だそうです。</p>

<p>ここでどのオブジェクトが GC の対象になるかの見分ける方法として、2 つあることを説明されました。</p>

<ul>
  <li>保守的 GC</li>
  <li>正確な GC</li>
</ul>

<p>Ruby はマークスイープ＆保守的 GC で実装されているそうです。
世の中で保守的 GC で実装された言語は少数派だそうです。</p>

<h5 id="gc-の黄金時代について">GC の黄金時代について</h5>

<p>黄金時代は 60 年代初頭だそうです。というわけで、現在は基礎となる理論を元に実装を改良している時期だそうです。</p>

<p>結論としては</p>

<ul>
  <li>GC のアルゴリズム的な黄金時代は過ぎ去った</li>
  <li>実装的な黄金時代はこれからだ！</li>
</ul>

<p>だそうです。</p>

<h5 id="gc-の未来について">GC の未来について</h5>

<p>これからの GC の実装については</p>

<ul>
  <li>高速なストレージ (SSD) に合った GC の実装</li>
  <li>さまざまな並列化(CPU・言語)に合った GC の実装</li>
  <li>ハードウェアが GC をサポート</li>
</ul>

<p>が出てくると予想されました。</p>

<h4 id="感想-5">感想</h4>

<p>低レベルなレイヤーを扱う部分なので、勉強する機会が少なく、理解の難しい話題ですが、非常にわかり易く説明していただきました。
60 年代初頭には既に理論的な基礎が出来上がっていたこと、それを始めて発表したのが、Lisp の作者でもある、John MacCarthy なのは興味深い話でした。
NaCl の紹介のときに、「GC に詳しい人がいる」のスライドでまつもとさんが出てきたときには大受けでした。</p>

<h4 id="発表資料-6">発表資料</h4>

<p>発表資料は以下の URL をご参照ください。
<a href="http://www.slideshare.net/authorNari/gc-2447192">GC 黄金時代</a></p>


                    </div>
                </div>
            </div>
        </div>
    </div>
  </body>
</html>
