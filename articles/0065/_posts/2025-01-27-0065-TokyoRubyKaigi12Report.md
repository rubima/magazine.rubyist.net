---
layout: post
title: RegionalRubyKaigi レポート (xx) 東京Ruby会議12
short_title: RegionalRubyKaigi レポート (xx) 東京Ruby会議12
post_author: 東京Ruby会議12 実行委員会
tags: regionalRubyKaigi
created_on: 2025-01-27
---

{% include base.html %}

## RegionalRubyKaigi レポート (xx) 東京Ruby会議12

(ここに『はじめに』が入る）

## キーノート

## John Hawthorn『Scaling Ruby @ GitHub』

* 録画: https://example.com/

オープニングキーノートを務めた John Hawthorn は、昨年の RubyKaigi 2024 の登壇に来日している、カナダ在住の Ruby と Rails のコミッターです。

今回は John Hawthorn が勤務している GitHub 社における、GitHub のサービス開発と運用をテーマに冠したタイトルです。私たち参加者も、日頃の業務で使っているサービスなだけに、興味を持って聞いていた方も多いのではないでしょうか？
私もそのひとりで、ここでは聞いて印象的だったことを感想を交えてレポートします。

このキーノートは GitHub 社の Rails 運用の歴史から始まりました。かつての GitHub のサービス実装では rails/rails リポジトリをフォークして独自拡張された Rails を使っていたこともあったようですが、現在は rails/rails リポジトリのエッジをそのまま使っており、John Hawthorn が参画した頃には非常に素直な Rails アプリケーションとして構成されていたようです。Rails アプリケーション開発において、可能な限り Rails が用意しているレールに乗るという姿勢と、一時的にレールが外れることがあっても本道に戻すという徳を積み重ねることの大切さが伝わるオープニングです。

ここから GitHub の中が垣間見えるお題が次々と取り上げられていきます。個人的に「誰が話すトークか？」はトークへの期待に対して重要な点で、このキーノートでは Ruby と Rails のコミッターである John Hawthorn が誕生した環境はどのようなものか？という点が、John Hawthorn のトークとして期待するポイントでした。

この期待については、最新の Ruby と Rails をお仕事で使っている点について、具体的にそのような環境をどのように運営しているかで示されました。GitHub Actions を使って週次で rails/rails リポジトリの main ブランチをプルリクエストとして開き、それを本番環境に適用しているとのことです。デプロイの頻度は「差分を把握できる範囲」で小さくといった形で、常に rails/rails リポジトリのエッジを使っているというものではありませんでした。「あれ？週一なら運用できそうでは？」と思った方は、Rails パイオニア企業に加わるはじめの一歩として、お手本として自社プロダクトに持ち帰ってみることを検討できそうなとても具体的かつ実践的なトピックでした。余談ですが、GitHub 社の機能である GitHub Actions を使って実現しているというのも、自分たちが欲しいものを自分たちで作って使っている形になっていて良いですね。

さらに、こういった環境で GitHub 社から生まれた複数データベース機能の活用事例については、単一障害点になりがちなデータベースに対してリードレプリカを用意する話が、運用面に掛かる話として挙げられていました。データベース更新のターゲットとなるプライマリーのデータベースと、リードレプリカではどうしても情報の鮮度に差異が起きるについて、GitHub にログインしているユーザーはフレッシュなプライマリーに接続し、不特定多数の匿名ユーザーはリードレプリカに接続させるという、データの性質と提供先するユーザーの属性を踏まえて負荷分散を考えるというというのは、運用まで見据えた指針の参考になりそうです。

なおエッジを本番適用しているのは Rails のみで、Ruby は週一で CI ビルドのみ行っているようでした。たしかに変更の差分把握の難易度は Ruby と Rails で異なるため、これも現実的なアプローチとして聞いていました。

リファクタリングなど日常的な改善についても触れられており、プロジェクトオートメーションがされているのは想定の範囲だとしても、改善の閾値を達成したら「よくやりました！次の目標となる新たな閾値を設定してさらに改善しましょう！」と、手を動かしたメンバーを労うようなちょっとしたひと工夫のメッセージ出力がされているサンプルコードを示されていました。こういったコードを通したプロジェクトファシリテーション文化の一端を垣間見れたのも、印象的なワンシーンのひとつでした。

このような話が、コードが出てこない抽象論ではなく、良い塩梅に抽象化されたサンプルコードを示しつつ話は進むため、聞いている側としては自分の現場ではどのように手を動かせば実現できそうか？どの話を実現可能なチャレンジとして持ち帰ることができるか？を考えることができる構成で話は進みました。

GitHub 社が GitHub を使いながら GitHub を Ruby on Rails で開発している期待のトークを、期待以上の濃度と具体性で示された素晴らしいキーノートでした。明日の Rails パイオニア企業を育てるのは、このキーノートを聞いた会場のオーディエンスのあなたかもしれません。ひとりひとりに、そう語りかけていると思わずにはいられませんでした。

以上が参加レポートとなりますが、このキーノートは東京Ruby会議12に参加していたたくさんの Rubyist が聞いていました。GitHub 社の道具箱ともいえるこのキーノートは、さまざまな観点での感想があると思いますので、ぜひお近くの Rubyist と感想を交換してみてください。それぞれの Kaigi Effect でコミュニティを発展させていけると最高ですね！

(koic)

## Kohei Suzuki『Ruby と Rust と私』

* 録画: https://example.com/

レポート。レポート。レポート。レポート。レポート。

(your name)


## セッション

### Keynote: 『Scaling Ruby @ GitHub』

* 録画: https://example.com/

レポート。レポート。レポート。レポート。レポート。


(your name)

### 前田 修吾『Ruby製テキストエディタでの生活』

* 録画: https://example.com/

レポート。レポート。レポート。レポート。レポート。

(your name)


### ぺん！『全てが同期する! Railsとフロントエンドのシームレスな連携の再考』

* 録画: https://example.com/

レポート。レポート。レポート。レポート。レポート。

(your name)


### ryopeko『functionalなアプローチで動的要素を排除する』

* 録画: https://example.com/

『パーフェクトRuby』の著者でもある ryopeko さんのトークです。

話の全体としては、Ruby を使った業務プロジェクトの課題を、関数型言語によるアプローチで解決するといった、ユニークなものでした。

なかなか現場で見かけることも少ない、`curry` によるカリー化や `>>` (あるいは `<<`) による関数合成といった、Ruby で用意された関数型言語のパラダイムによる API が登場人物になります。聞いている私自身は、関数型言語からのパラダイムによる Ruby の API というと `lazy` くらいしか実践的に活用できていなかったので、ryopeko さんの発想力の高さが非常に参考になったトークです。

マイナー機能を使いたい！といったような、目的と手段が反転しているような話ではなく、CSV 出力のカラムそれぞれに適用したい処理が異なるため、それぞれを処理する手続きを用意して、部分適用や関数合成をもちいたモジュール性ある解決を目指すといったもので、聞いている側として説得力あるトークでした。と思いきや、これは ryopeko さんのマジックだったようで、functional なアプローチを決めるとカッコイイというのは、良くも悪くもという両面があり容量用法は適切に用いるべきと、アクセルとブレーキを巧みに使い分けて話されていました。

実際的なところとして ryopeko さんがトークで話されていた functional な API 活用によるアプローチが、現場のプルリクエストとして出た時は「え？ちょっと。これ何やっているの？」的な反応もあったという点も、「それはそうかも」と現場の活きた話だなと思ったポイントです。

現場での functional なアプローチ適用事例を通して、まだまだ実践で使いこなせていない Ruby の可能性を感じさせられました。

(koic)


### tokujiros『ゼロからの、2Dレトロゲームエンジンの作り方』

* 録画: https://example.com/

レポート。レポート。レポート。レポート。レポート。

(your name)


### yumu『Ruby×AWSで作る動画変換システム』

* 録画: https://example.com/

レポート。レポート。レポート。レポート。レポート。

(your name)


### moznion『simple組み合わせ村から大都会Railsにやってきた俺は』

* 録画: https://example.com/

レポート。レポート。レポート。レポート。レポート。

(your name)


### Hiromi Ogawa『Writing PDFs in Ruby DSL』

* 録画: https://example.com/

レポート。レポート。レポート。レポート。レポート。

(your name)


### buty4649『mrubyでワンバイナリーなテキストフィルタツールを作った』

* 録画: https://example.com/

レポート。レポート。レポート。レポート。レポート。

(your name)


### morihirok『混沌とした例外処理とエラー監視に秩序をもたらす』

* 録画: https://example.com/

レポート。レポート。レポート。レポート。レポート。

(your name)


### Kasumi Hanazuki『Ruby meets secure DNS and modern Internet protocols』

* 録画: https://example.com/

レポート。レポート。レポート。レポート。レポート。

(your name)


## 『Regional.rb and the Tokyo Metropolis』

* 録画: https://example.com/

レポート。レポート。レポート。レポート。レポート。

(your name)

## 会場や廊下のようす
